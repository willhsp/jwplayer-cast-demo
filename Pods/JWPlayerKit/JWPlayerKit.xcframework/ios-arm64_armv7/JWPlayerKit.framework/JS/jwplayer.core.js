/*!
   JW Player version 8.24.0
   Copyright (c) 2021, JW Player, All Rights Reserved
   This source code and its use and distribution is subject to the terms
   and conditions of the applicable license agreement.
   https://www.jwplayer.com/tos/
   This product includes portions of other software. For the full text of licenses, see
   https://ssl.p.jwpcdn.com/player/v/8.24.0/notice.txt
*/
(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[2],{178:
/*!******************************************************!*\
  !*** ./src/js/controller/controller.js + 21 modules ***!
  \******************************************************/
/*! exports provided: default */
/*! all exports used */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/jwplayer/src/js/api/api-queue.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/jwplayer/src/js/api/config-normalization.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/jwplayer/src/js/api/core-shim.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/jwplayer/src/js/api/errors.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/jwplayer/src/js/api/players.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/jwplayer/src/js/api/timer.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/jwplayer/src/js/environment/environment.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/jwplayer/src/js/events/events.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/jwplayer/src/js/model/player-model.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/jwplayer/src/js/model/simplemodel.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/jwplayer/src/js/playlist/item.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/jwplayer/src/js/playlist/loader.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/jwplayer/src/js/playlist/playlist.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/jwplayer/src/js/program/program-constants.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/jwplayer/src/js/providers/providers-supported.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/jwplayer/src/js/utils/backbone.events.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/jwplayer/src/js/utils/in-interaction-event.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/jwplayer/src/js/utils/random-id-generator.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/jwplayer/src/js/utils/strings.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/jwplayer/src/js/utils/underscore.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/js/providers/providers.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/js/utils/is-iframe.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/jwplayer/src/js/utils/video.ts */function(t,e,i){"use strict";i.r(e);i(10);var r=i(3),n=i(0),a=i(14),o=i(48),s=i(33),u=["notVisible","always","never"];var c=i(41),l=i(44),d=i(29),h=i(42),f=i(2),p=i(8),m=i(30),g=function(){function t(t){this.callback=t}var e=t.prototype;return e.async=function(){for(var t=this,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return Promise.resolve().then((function(){if(null!==t.callback)return t.callback.apply(t,i)}))},e.cancel=function(){this.callback=null},e.cancelled=function(){return null===this.callback},t}();function v(t){return new g(t)}var y=i(1);function b(t,e){var i=this.mediaModel,a=Object(n.f)({},e,{type:t});switch(t){case r.M:if(i.get(r.M)===a.mediaType)return;i.set(r.M,a.mediaType);break;case r.N:return void i.set(r.N,Object(n.f)({},e));case r.F:if(e[r.F]===this.model.getMute())return;break;case r.U:var o=e.newstate;o===r.eb&&(this.thenPlayPromise.cancel(),i.srcReset());var s=i.attributes.mediaState;i.attributes.mediaState=o,i.trigger("change:mediaState",i,o,s);break;case r.z:return this.beforeComplete=!0,this.trigger(r.w,a),void(this.attached&&!this.background&&this._playbackComplete());case r.A:i.get("setup")?(this.thenPlayPromise.cancel(),i.srcReset()):(t=r.lb,a.code+=1e5);break;case r.E:var u=e,c=u.duration,l=u.metadataType,d=u.seekRange;l||(a.metadataType="unknown"),Object(n.p)(c)&&(i.set("seekRange",d),i.set("duration",c));break;case r.y:i.set("buffer",e.bufferPercent);case r.L:var h=e;i.set("seekRange",h.seekRange),i.set("position",h.position),i.set("currentTime",h.currentTime);var f=h.duration;Object(n.p)(f)&&i.set("duration",f),t===r.L&&"starttime"in this.item&&delete this.item.starttime;break;case r.K:var p=this.mediaElement;p&&p.paused&&i.set("mediaState","paused");break;case r.C:i.set(r.C,e.levels);case r.D:var m=e,g=m.currentQuality,v=m.levels;g>-1&&v.length>1&&i.set("currentLevel",parseInt(g));break;case r.g:i.set(r.g,e.tracks);case r.h:var y=e,b=y.currentTrack,k=y.tracks;b>-1&&k.length>0&&b<k.length&&i.set("currentAudioTrack",parseInt(b))}this.trigger(t,a)}function k(t,e){var i=this.model;switch(t){case r.U:return;case r.O:return void i.set(r.O,e[r.O]);case r.F:return void i.set(r.F,e[r.F]);case r.I:return void i.set("playbackRate",e.playbackRate);case r.E:Object(n.f)(i.get("itemMeta"),e.metadata);break;case r.D:i.persistQualityLevel(e.currentQuality,e.levels);break;case r.kb:i.persistVideoSubtitleTrack(e.currentTrack,e.tracks);break;case r.L:e.targetLatency&&i.set("dvrSeekLimit",e.targetLatency);case r.J:case r.K:case r.Q:case r.jb:case"subtitlesTracksData":i.trigger(t,e);break;case r.j:return void i.persistBandwidthEstimate(e.bandwidthEstimate)}this.trigger(t,e)}var _=i(5),M=i(45),w=i(27);function C(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,P(t,e)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var A=function(t){function e(){var e;return(e=t.call(this)||this).providerController=null,e._provider=null,e.addAttributes({mediaModel:new I,minDvrWindow:w.b,dvrSeekLimit:w.a}),e}C(e,t);var i=e.prototype;return i.setup=function(t){return t=t||{},this._normalizeConfig(t),Object(n.f)(this.attributes,t,w.d),this.providerController=new m.a(this.getConfiguration()),this.setAutoStart(),this},i.getConfiguration=function(){var t=this.clone(),e=t.mediaModel.attributes;return Object.keys(w.c).forEach((function(i){t[i]=e[i]})),t.instreamMode=!!t.instream,delete t.instream,delete t.mediaModel,t},i.persistQualityLevel=function(t,e){var i=e[t]||{},r=i.label,a=Object(n.p)(i.bitrate)?i.bitrate:null;this.set("bitrateSelection",a),this.set("qualityLabel",r)},i.setActiveItem=function(t){var e=this.get("playlist")[t];this.resetItem(e),this.attributes.playlistItem=null,this.set("item",t),this.set("minDvrWindow",e.minDvrWindow),this.set("dvrSeekLimit",e.dvrSeekLimit||w.a),this.set("playlistItem",e)},i.setMediaModel=function(t){this.mediaModel&&this.mediaModel!==t&&this.mediaModel.off(),t=t||new I,this.mediaModel=t,function(t){var e=t.get("mediaState");t.trigger("change:mediaState",t,e,e)}(t)},i.destroy=function(){this.attributes._destroyed=!0,this.off(),this._provider&&(this._provider.off(null,null,this),this._provider.destroy(),this._provider=null),this.mediaModel&&this.mediaModel.off(),this.providerController=null},i.getVideo=function(){return this._provider},i.setFullscreen=function(t){(t=!!t)!==this.get("fullscreen")&&this.set("fullscreen",t)},i.getProviders=function(){return this.providerController},i.setVolume=function(t){if(Object(n.p)(t)){var e=Math.min(Math.max(0,t),100);this.set("volume",e);var i=0===e;i!==this.getMute()&&this.setMute(i)}},i.getMute=function(){return this.get("autostartMuted")||this.get("mute")},i.setMute=function(t){if(void 0===t&&(t=!this.getMute()),this.set("mute",!!t),!t){var e=Math.max(10,this.get("volume"));this.set("autostartMuted",!1),this.setVolume(e)}},i.setStreamType=function(t){this.set("streamType",t),"LIVE"===t&&this.setPlaybackRate(1)},i.setProvider=function(t){this._provider=t,O(this,t)},i.resetProvider=function(){this._provider=null,this.set("provider",void 0)},i.setPlaybackRate=function(t){Object(n.m)(t)&&(t=Math.max(Math.min(t,4),.25),"LIVE"===this.get("streamType")&&(t=1),this.set("defaultPlaybackRate",t),this._provider&&this._provider.setPlaybackRate&&this._provider.setPlaybackRate(t))},i.persistCaptionsTrack=function(){var t=this.get("captionsTrack");t?this.set("captionLabel",t.name):this.set("captionLabel","Off")},i.setVideoSubtitleTrack=function(t,e){this.set("captionsIndex",t),t&&e&&t<=e.length&&e[t-1].data&&this.set("captionsTrack",e[t-1])},i.persistVideoSubtitleTrack=function(t,e){this.setVideoSubtitleTrack(t,e),this.persistCaptionsTrack()},i.setAutoStart=function(t){void 0!==t&&this.set("autostart",t);var e=!(!_.OS.mobile||!this.get("autostart"));this.set("playOnViewable",e||"viewable"===this.get("autostart"))},i.resetItem=function(t){var e=t?Object(f.f)(t.starttime):0,i=t?Object(f.f)(t.duration):0,r=this.mediaModel;this.set("playRejected",!1),this.attributes.itemMeta={},r.set("position",e),r.set("currentTime",0),r.set("duration",i)},i.persistBandwidthEstimate=function(t){Object(n.p)(t)&&this.set("bandwidthEstimate",t)},i._normalizeConfig=function(t){var e=t.floating;e&&e.disabled&&delete t.floating},e}(M.a),O=function(t,e){t.set("provider",e.getName()),!0===t.get("instreamMode")&&(e.instreamMode=!0),t.setPlaybackRate(t.get("defaultPlaybackRate")),t.set("supportsPlaybackRate",e.supportsPlaybackRate),t.set("playbackRate",e.getPlaybackRate()),t.set("renderCaptionsNatively",e.renderNatively)};var I=function(t){function e(){var e;return(e=t.call(this)||this).addAttributes({mediaState:r.eb}),e}return C(e,t),e.prototype.srcReset=function(){Object(n.f)(this.attributes,{setup:!1,started:!1,preloaded:!1,visualQuality:null,buffer:0,currentTime:0})},e}(M.a),j=A;function R(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=function(t){var e,i;function a(e,i){var r;return(r=t.call(this)||this).attached=!0,r.beforeComplete=!1,r.item=null,r.mediaModel=new I,r.model=i,r.provider=e,r.providerListener=b,r.thenPlayPromise=v((function(){})),e.off(),e.on("all",r.providerListener,S(r)),r.eventQueue=new c.a(S(r),["trigger"],(function(){return!r.attached||r.background})),r}i=t,(e=a).prototype=Object.create(i.prototype),e.prototype.constructor=e,T(e,i);var o,s,u,l=a.prototype;return l.play=function(t){var e=this.item,i=this.model,r=this.mediaModel,n=this.provider;if(t||(t=i.get("playReason")),i.set("playRejected",!1),r.get("setup"))return n.play()||Promise.resolve();r.set("setup",!0);var a=this._loadAndPlay(e,n);return r.get("started")?a:this._playAttempt(a,t)},l.stop=function(){var t=this.provider;this.beforeComplete=!1,t.stop()},l.pause=function(){this.provider.pause()},l.preload=function(){var t=this.item,e=this.mediaModel,i=this.provider;!t||t&&"none"===t.preload||!this.attached||this.setup||this.preloaded||(e.set("preloaded",!0),i.preload(t))},l.destroy=function(){var t=this.provider,e=this.mediaModel;this.off(),e.off(),t.off(),this.eventQueue.destroy(),this.detach(),t.getContainer()&&t.remove(),this.eventQueue&&this.eventQueue.destroy(),delete t.instreamMode,this.thenPlayPromise&&this.thenPlayPromise.cancel(),this.provider=this.mediaModel=this.model=this.eventQueue=this.item=this.providerListener=this.thenPlayPromise=null},l.attach=function(){var t=this.model,e=this.provider;t.setPlaybackRate(t.get("defaultPlaybackRate")),e.attachMedia(),this.attached=!0,this.eventQueue.flush(),this.beforeComplete&&this._playbackComplete()},l.detach=function(){var t=this.provider;this.thenPlayPromise.cancel();var e=t.detachMedia();return this.attached=!1,e},l._playAttempt=function(t,e){var i=this,a=this.item,o=this.mediaModel,s=this.model,u=this.provider,c=u?u.video:null;return this.trigger(r.G,{item:a,playReason:e}),(c?c.paused:s.get(r.U)!==r.hb)||s.set(r.U,r.bb),t.then((function(){o.get("setup")&&(o.set("started",!0),o===s.mediaModel&&function(t){var e=t.get("mediaState");t.trigger("change:mediaState",t,e,e)}(o))})).catch((function(t){if(i.item&&o===s.mediaModel){if(s.set("playRejected",!0),c&&c.paused){if(c.src===location.href)return i._loadAndPlay(a,u);o.set("mediaState",r.gb)}var l=Object(n.f)(new y.k(null,Object(y.u)(t),t),{error:t,item:a,playReason:e});throw delete l.key,i.trigger(r.H,l),t}}))},l._playbackComplete=function(){var t=this.item,e=this.provider;t&&delete t.starttime,this.beforeComplete=!1,e.setState(r.cb),this.trigger(r.z,{})},l._loadAndPlay=function(){var t=this,e=this.item,i=this.provider,r=i.load(e);if(r){var n=v((function(){return t.provider.play()||Promise.resolve()}));return this.thenPlayPromise=n,r.then((function(){return n.async()}))}return i.play()||Promise.resolve()},o=a,(s=[{key:"audioTrack",get:function(){return this.provider.getCurrentAudioTrack()},set:function(t){this.provider.setCurrentAudioTrack(t)}},{key:"quality",get:function(){return this.provider.getCurrentQuality()},set:function(t){this.provider.setCurrentQuality(t)}},{key:"audioTracks",get:function(){return this.provider.getAudioTracks()}},{key:"background",get:function(){if(!this.attached)return!1;var t=this.provider;return!t.getContainer()},set:function(t){var e=this.provider;e.video,e.getContainer()&&(t?this.background||(this.thenPlayPromise.cancel(),this.pause(),e.removeFromContainer?e.removeFromContainer():(console.error("Provider should implement `removeFromContainer()` to background provider media view. Calling `provider.setContainer(null)` instead."),e.setContainer(null)),this.container=null):(this.eventQueue.flush(),this.beforeComplete&&this._playbackComplete()))}},{key:"container",get:function(){return this.provider.getContainer()},set:function(t){this.provider.setContainer(t)}},{key:"mediaElement",get:function(){return this.provider.video}},{key:"preloaded",get:function(){return this.mediaModel.get("preloaded")}},{key:"qualities",get:function(){return this.provider.getQualityLevels()}},{key:"setup",get:function(){return this.mediaModel.get("setup")}},{key:"started",get:function(){return this.mediaModel.get("started")}},{key:"activeItem",set:function(t){var e=this.mediaModel=new I,i=t?Object(f.f)(t.starttime):0,r=t?Object(f.f)(t.duration):0,n=e.attributes;e.srcReset(),n.position=i,n.duration=r,this.item=t,this.provider.init(t),this.provider.mute(this.model.getMute()),this.provider.volume(this.model.get("volume"))}},{key:"controls",set:function(t){this.provider.setControls(t)}},{key:"mute",set:function(t){this.provider.mute(t)}},{key:"position",set:function(t){var e=this.provider;this.model.get("scrubbing")&&e.fastSeek?e.fastSeek(t):e.seek(t)}},{key:"subtitles",set:function(t){this.provider.setSubtitlesTrack&&this.provider.setSubtitlesTrack(t)}},{key:"volume",set:function(t){this.provider.volume(t)}}])&&R(o.prototype,s),u&&R(o,u),a}(p.a);var V=i(31);function E(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L(t){var e="function"==typeof Map?new Map:void 0;return(L=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf("[native code]")))return t;var i;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return F(t,arguments,q(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),N(r,t)})(t)}function F(t,e,i){return(F=B()?Reflect.construct:function(t,e,i){var r=[null];r.push.apply(r,e);var n=new(Function.bind.apply(t,r));return i&&N(n,i.prototype),n}).apply(null,arguments)}function B(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function N(t,e){return(N=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Q=function(t){var e,i;function r(e){var i;return(i=t.call(this,e)||this).code=y.a,i}return i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,N(e,i),r}(L(Error)),H=function(){function t(t,e,i){var r=this;this.index=t,this.model=e,this.api=i,this.promise=new Promise((function(t,e){r.resolve=t,r.reject=e})),this.async=null,this.asyncPromise=null,this.rejected=!1}var e,i,r,n=t.prototype;return n.run=function(){var t=this,e=this.api,i=this.async,r=this.index,n=this.model,a=this.resolve,o=this.reject,s=this.promise,u=n.get("playlist"),c=this.getItem(r);if(!c){var l=-1===r?"No recs item":"No playlist item at index "+r;this.rejected=!0,o(new Error(l))}if(i){this.clear();var d=this.asyncPromise=i.call(e,c,r);d&&d.then?d.then((function(e){if(e&&e!==c&&u===n.get("playlist")){var i=t.replace(e);if(i)return void a(i)}a(c)})).catch((function(e){var i=new Q("Item skipped by playlist item callback");i.sourceError=e,t.rejected=!0,o(i)})):this.asyncPromise=null}return this.asyncPromise||a(c),s},n.getItem=function(t){var e=this.model;return-1===t?e.get("nextUp"):e.get("playlist")[t]},n.replace=function(t){var e=this.index,i=this.model,r=Object(d.c)(i,new V.a(t),t.feedData||{});if(r){if(-1===e)i.set("nextUp",r);else i.get("playlist")[e]=r;return r}},n.clear=function(){this.async=null},n.destroy=function(){this.model=this.api=this.promise=this.resolve=this.reject=this.async=this.asyncPromise=null},e=t,(i=[{key:"callback",set:function(t){this.async=t}},{key:"skipped",get:function(){return this.rejected}}])&&E(e.prototype,i),r&&E(e,r),t}();function D(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function z(t,e){t.off().on("all",e.mediaControllerListener,e)}function W(t){return t&&t.sources&&t.sources[0]}var J=function(t){var e,i;function a(e,i,r){var n,a,o;return(n=t.call(this)||this).adPlaying=!1,n.apiContext=r,n.background=(a=null,o=null,Object.defineProperties({setNext:function(t,e){o={item:t,loadPromise:e}},isNext:function(t){return!(!o||JSON.stringify(o.item.sources[0])!==JSON.stringify(t.sources[0]))},updateNext:function(t){o&&(o.item=t)},clearNext:function(){o=null}},{nextLoadPromise:{get:function(){return o?o.loadPromise:null}},currentMedia:{get:function(){return a},set:function(t){a=t}}})),n.mediaPool=i,n.mediaController=null,n.mediaControllerListener=k,n.model=e,n.providers=new m.a(e.getConfiguration()),n.loadPromise=null,n.backgroundLoading=e.get("backgroundLoading"),n.asyncItems=[],n.itemSetContext=0,e.set("mediaContainer",{}),n.backgroundLoading||e.set("mediaElement",n.mediaPool.getPrimedElement()),n}i=t,(e=a).prototype=Object.create(i.prototype),e.prototype.constructor=e,U(e,i);var o,s,u,c=a.prototype;return c.asyncActiveItem=function(t){var e=this,i=this.model;return this.getAsyncItem(t).run().then((function(t){return clearTimeout(-1),t})).catch((function(r){if(clearTimeout(-1),t<i.get("playlist").length-1)return e.setActiveItem(t+1).then((function(){return null}));throw r}))},c.setActiveItem=function(t){var e=this,i=this.background,r=this.mediaController,n=this.model,a=n.get("playlist")[t];n.attributes.itemReady=!1,r&&(r.mediaModel.off(),n.attributes.mediaModel=new I,n.mediaModel.attributes=r.mediaModel.clone()),i.isNext(a)||this._destroyBackgroundMedia();var o=this.itemSetContext=Math.random();return this.loadPromise=this.asyncActiveItem(t).then((function(a){if(null===a||o!==e.itemSetContext||null===e.providers)return null;n.setActiveItem(t);var s=W(a);if(!s)return Promise.reject(new y.k(y.i,y.g));if(i.isNext(a))return e._destroyActiveMedia(),e._activateBackgroundMedia();if(r){if(n.get("castActive")||e._providerCanPlay(r.provider,s))return r.activeItem=a,e._setActiveMedia(r),r;e._destroyActiveMedia()}return e._setupMediaController(s).then((function(t){if(o===e.itemSetContext)return t.activeItem=a,e._setActiveMedia(t),t})).catch((function(t){throw e._destroyActiveMedia(),t}))}))},c.setAttached=function(t){var e=this.mediaController;if(this.attached=t,e){if(!t){var i=e.detach(),r=e.item,n=e.mediaModel.get("position");return n&&(r.starttime=n),i}e.attach()}},c.playVideo=function(t){var e,i=this,n=this.mediaController,a=this.model;if(!a.get("playlistItem"))return Promise.reject(new Error("No media"));if(t||(t=a.get("playReason")),n)e=n.play(t);else{a.set(r.U,r.bb);var o=v((function(e){if(i.mediaController&&i.mediaController.mediaModel===e.mediaModel)return e.play(t);throw new Error("Playback cancelled.")}));e=(this.loadPromise||Promise.resolve()).catch((function(t){throw o.cancel(),t})).then((function(){return o.async()}))}return e},c.stopVideo=function(){var t=this.mediaController,e=this.model,i=e.get("playlist")[e.get("item")];e.attributes.playlistItem=i,e.resetItem(i),t&&t.stop()},c.preloadVideo=function(){var t=this.background,e=this.mediaController||t.currentMedia;e&&e.preload()},c.pause=function(){var t=this.mediaController;t&&t.pause()},c.castVideo=function(t,e){var i=this.model;i.attributes.itemReady=!1;var r=Object(n.f)({},e),a=r.starttime=i.mediaModel.get("currentTime");this._destroyActiveMedia();var o=new x(t,i);o.activeItem=r,this._setActiveMedia(o),i.mediaModel.set("currentTime",a)},c.stopCast=function(){var t=this.model,e=t.get("item");t.get("playlist")[e].starttime=t.mediaModel.get("currentTime"),this.stopVideo(),this.setActiveItem(e).catch((function(){}))},c.backgroundActiveMedia=function(){this.adPlaying=!0;var t=this.background,e=this.mediaController;e&&(t.currentMedia&&this._destroyMediaController(t.currentMedia),e.background=!0,t.currentMedia=e,this.mediaController=null)},c.restoreBackgroundMedia=function(){this.adPlaying=!1;var t=this.background,e=this.mediaController,i=t.currentMedia;if(i){if(e&&e!==i)return this._destroyMediaController(i),void(t.currentMedia=null);var n=i.mediaModel.attributes;n.mediaState===r.eb?n.mediaState=r.gb:n.mediaState!==r.gb&&(n.mediaState=r.bb),this._setActiveMedia(i),i.background=!1,t.currentMedia=null}},c.backgroundLoad=function(t,e){var i=this,r=this.background,n=this.getAsyncItem(e).run().then((function(t){r.updateNext(t);var e=W(t);return i._setupMediaController(e).then((function(e){return e.activeItem=t,e.preload(),e}))})).catch((function(){r.clearNext()}));r.setNext(t,n)},c.forwardEvents=function(){var t=this.mediaController;t&&z(t,this)},c.routeEvents=function(t){var e=this.mediaController;e&&(e.off(),t&&z(e,t))},c.destroy=function(){this.off(),this._destroyBackgroundMedia(),this._destroyActiveMedia(),this.asyncItems&&this.asyncItems.forEach((function(t){t&&t.destroy()})),this.asyncItems=this.loadPromise=this.mediaControllerListener=this.model=this.providers=this.apiContext=null},c._setActiveMedia=function(t){var e=this.model,i=t.mediaModel,r=t.provider;!function(t,e){var i=t.get("mediaContainer");i?e.container=i:t.once("change:mediaContainer",(function(t,i){e.container=i}))}(e,t),this.mediaController=t,e.set("mediaElement",t.mediaElement),e.setMediaModel(i),e.setProvider(r),z(t,this),e.set("itemReady",!0)},c._destroyActiveMedia=function(){var t=this.mediaController,e=this.model;t&&t.provider&&(t.detach(),this._destroyMediaController(t),e.resetProvider(),this.mediaController=null)},c._destroyBackgroundMedia=function(){var t=this.background;this._destroyMediaController(t.currentMedia),t.currentMedia=null,this._destroyBackgroundLoadingMedia()},c._destroyMediaController=function(t){var e=this.mediaPool;t&&t.provider&&(e.recycle(t.mediaElement),t.destroy())},c._setupMediaController=function(t){var e=this,i=this.model,r=this.providers,n=function(t){return new x(new t(i.get("id"),i.getConfiguration(),e.primedElement),i)},a=r.choose(t),o=a.provider,s=a.name;return o?Promise.resolve(n(o)):r.load(s).then((function(t){return n(t)}))},c._activateBackgroundMedia=function(){var t=this,e=this.background,i=this.background.nextLoadPromise,r=this.model;return this._destroyMediaController(e.currentMedia),e.currentMedia=null,i.then((function(i){if(i)return e.clearNext(),t.adPlaying?(r.attributes.itemReady=!0,e.currentMedia=i):(t._setActiveMedia(i),i.background=!1),i}))},c._destroyBackgroundLoadingMedia=function(){var t=this,e=this.background,i=this.background.nextLoadPromise;i&&i.then((function(i){t._destroyMediaController(i),e.clearNext()}))},c._providerCanPlay=function(t,e){var i=this.providers.choose(e).provider;return i&&t&&t instanceof i},c.setMute=function(t){var e=this.background,i=this.mediaController;this.mediaPool;i&&(i.mute=t),e.currentMedia&&(e.currentMedia.mute=t)},c.setVolume=function(t){var e=this.background,i=this.mediaController;this.mediaPool;i&&(i.volume=t),e.currentMedia&&(e.currentMedia.volume=t)},c.getAsyncItem=function(t){var e=this.asyncItems[t];return e||((e=this.asyncItems[t]=new H(t,this.model,this.apiContext)).callback=this.model.get("playlistItemCallback")),e},c.clearItemPromises=function(){this.asyncItems.forEach((function(t){t&&t.reject(new Error("Item playback aborted"))})),this.asyncItems.length=0},o=a,(s=[{key:"audioTrack",get:function(){var t=this.mediaController;return t?t.audioTrack:-1},set:function(t){var e=this.mediaController;e&&(e.audioTrack=parseInt(t,10)||0)}},{key:"audioTracks",get:function(){var t=this.mediaController;if(t)return t.audioTracks}},{key:"beforeComplete",get:function(){var t=this.mediaController,e=this.background.currentMedia;return!(!t&&!e)&&(t?t.beforeComplete:e.beforeComplete)}},{key:"primedElement",get:function(){return this.backgroundLoading?this.mediaPool.getPrimedElement():this.model.get("mediaElement")}},{key:"quality",get:function(){return this.mediaController?this.mediaController.quality:-1},set:function(t){var e=this.mediaController;e&&(e.quality=parseInt(t,10)||0)}},{key:"qualities",get:function(){var t=this.mediaController;return t?t.qualities:null}},{key:"position",set:function(t){var e=this.mediaController;e&&(e.item.starttime=t,e.attached&&(e.position=t))}},{key:"subtitles",set:function(t){var e=this.mediaController;e&&(e.subtitles=t)}},{key:"itemCallback",set:function(t){this.model.set("playlistItemCallback",t),this.asyncItems.forEach((function(e){e&&(e.callback=t)}))}}])&&D(o.prototype,s),u&&D(o,u),a}(p.a);function G(t){return t===r.cb||t===r.db?r.eb:t}function Y(t,e,i){if((e=G(e))!==(i=G(i))){var n=e.replace(/(?:ing|d)$/,""),a={type:n,newstate:e,oldstate:i,reason:function(t,e){return t===r.bb?e===r.ib?e:r.fb:e}(e,t.mediaModel.get("mediaState"))};"play"===n?a.playReason=t.get("playReason"):"pause"===n&&(a.pauseReason=t.get("pauseReason")),this.trigger(n,a)}}function K(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function X(t,e){return(X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Z=function(t){var e,i;function a(e,i){var r,n=(r=t.call(this,e,i)||this).model=new j;return r.playerModel=e,r.provider=null,r.backgroundLoading=e.get("backgroundLoading"),n.mediaModel.attributes.mediaType="video",r}i=t,(e=a).prototype=Object.create(i.prototype),e.prototype.constructor=e,X(e,i);var o,s,u,c=a.prototype;return c.setup=function(){var t=this.model,e=this.playerModel,i=(this.primedElement,e.attributes),n=e.mediaModel;t.setup({id:i.id,volume:i.volume,instreamMode:!0,edition:i.edition,mediaContext:n,mute:i.mute,streamType:"VOD",autostartMuted:i.autostartMuted,autostart:i.autostart,advertising:i.advertising,sdkplatform:i.sdkplatform,skipButton:!1}),t.on("change:state",Y,this),t.on(r.t,(function(t){this.trigger(r.t,t)}),this)},c.setActiveItem=function(e){var i=this;return this.stopVideo(),this.provider=null,t.prototype.setActiveItem.call(this,e).then((function(t){return i.trigger(r.b),i._setProvider(t.provider),i.playVideo()}))},c.usePsuedoProvider=function(t){t&&(this._setProvider(t),t.off(r.t),t.on(r.t,(function(t){this.trigger(r.t,t)}),this))},c._setProvider=function(t){var e=this;if(t&&this.mediaPool){this.provider=t;var i=this.model,a=this.playerModel,o="vpaid"===t.type;t.off(),t.on("all",(function(t,e){o&&t===r.z||this.trigger(t,Object(n.f)({},e,{type:t}))}),this);var s=i.mediaModel;t.on(r.U,(function(t){t.oldstate=t.oldstate||i.get(r.U),s.set("mediaState",t.newstate)})),t.on(r.Q,this._nativeFullscreenHandler,this),s.on("change:mediaState",(function(t,i){e._stateHandler(i)})),t.attachMedia();var u=a.get("mediaContainer");t.setContainer(u),t.volume(a.get("volume")),t.mute(a.getMute()),t.setPlaybackRate&&t.setPlaybackRate(1),a.on("change:volume",(function(t,e){this.volume=e}),this),a.on("change:mute",(function(t,e){this.mute=e,e||(this.volume=a.get("volume"))}),this),a.on("change:autostartMuted",(function(t,e){e||(i.set("autostartMuted",e),this.mute=a.get("mute"))}),this)}},c.destroy=function(){var e=this.model;this.mediaPool,this.playerModel;return e.off(),t.prototype.destroy.call(this),this.provider&&(this.provider.remove(),this.provider=null),void e.off()},c.srcReset=function(){var t=this.playerModel,e=t.get("mediaModel"),i=t.getVideo();e.srcReset(),i&&(i.src=null)},c._nativeFullscreenHandler=function(t){this.model.trigger(r.Q,t),this.trigger(r.u,{fullscreen:t.jwstate})},c._stateHandler=function(t){var e=this.model;switch(t){case r.hb:case r.gb:e.set(r.U,t)}},o=a,(s=[{key:"mute",set:function(e){var i=this.mediaController,r=this.model,n=this.provider;r.set("mute",e),t.prototype.setMute.call(this,e),i||n.mute(e)}},{key:"volume",set:function(e){var i=this.mediaController,r=this.model,n=this.provider;r.set("volume",e),t.prototype.setVolume.call(this,e),i||n.volume(e)}}])&&K(o.prototype,s),u&&K(o,u),a}(J),$={skipoffset:null,tag:null},tt=function(t,e,i,a){var o,s,u,c,l=this,d=this,p=new Z(e,a),m=0,g={},v=null,y={},b=x,k=!1,_=!1,M=!1,w=!1,C=function(t){_||((t=t||{}).hasControls=!!e.get("controls"),l.trigger(r.v,t),p.model.get("state")===r.gb?t.hasControls&&p.playVideo().catch((function(){})):p.pause())},P=function(){_||p.model.get("state")===r.gb&&e.get("controls")&&(t.setFullscreen(),t.play())};function A(){p.model.set("playRejected",!0)}function O(){m++,d.loadItem(o).catch((function(){}))}function I(t,e){"complete"!==t&&(e=e||{},y.tag&&!e.tag&&(e.tag=y.tag),this.trigger(t,e),"mediaError"!==t&&"error"!==t||this.loadNextItemOnError())}function j(t){var e=t.newstate,i=t.oldstate||p.model.get("state");i!==e&&R(Object(n.f)({oldstate:i},g,t))}function R(e){var i=e.newstate;i===r.hb?t.trigger(r.d,e):i===r.gb&&t.trigger(r.c,e)}function S(e){var i=e.duration,r=e.position,n=p.model.mediaModel||p.model;n.set("duration",i),n.set("position",r),c||(c=(Object(f.c)(u,i)||i)-h.b),!k&&r>=Math.max(c,h.a)&&(t.preloadNextItem(),k=!0)}function T(t){var e={};y.tag&&(e.tag=y.tag),this.trigger(r.z,e),x.call(this,t)}function x(t){g={},o&&m+1<o.length?O():(t.type===r.z&&this.trigger(r.V,{}),this.destroy())}function V(){!_&&i&&i.clickHandler()&&i.clickHandler().setAlternateClickHandlers(C,P)}function E(r){r.width&&r.height&&i&&i.resizeMedia(),e.get("pip")&&t.requestPip(p.primedElement)}this.init=function(){if(!M&&!_){if(M=!0,g={},p.setup(),p.on("all",I,this),p.on(r.H,A,this),p.on(r.L,S,this),p.on(r.z,T,this),p.on(r.E,E,this),p.on(r.U,j,this),v=t.detachMedia(),e.set("instream",p),p.model.set("state",r.bb),i){var n=i.clickHandler();n&&n.setAlternateClickHandlers((function(){}),null)}return this.setText(e.get("localization").loadingAd),w=t.isBeforeComplete()||e.get("state")===r.cb,this}},this.enableAdsMode=function(n){var a=this;if(!M&&!_)return t.routeEvents({mediaControllerListener:function(t,e){a.trigger(t,e)}}),e.set("instream",p),p.model.set("state",r.hb),function(n){if(!i)return;var a=i.clickHandler();a&&a.setAlternateClickHandlers((function(i){_||((i=i||{}).hasControls=!!e.get("controls"),d.trigger(r.v,i),n&&(e.get("state")===r.gb?t.playVideo():(t.pause(),n&&(t.trigger(r.a,{clickThroughUrl:n}),window.open(n)))))}),null)}(n),this},this.setEventData=function(t){g=t},this.setState=function(t){var e=t.newstate,i=p.model;t.oldstate=i.get("state"),i.set("state",e),R(t)},this.setTime=function(e){S(e),t.trigger(r.f,e)},this.loadNextItemOnError=function(){o&&m+1<o.length&&O()},this.loadItem=function(t,i){if(_||!M)return Promise.reject(new Error("Instream not setup"));g={};var a=t;Array.isArray(t)?(s=i||s,t=(o=t)[m],s&&(i=s[m])):a=[t],a=a.map((function(t){var e=Object(n.f)({},t);return delete e.vastAd,e}));var c=p.model;c.set("playlist",a),e.set("hideAdsControls",!1),t.starttime=0,d.trigger(r.W,{index:m,item:t}),y=Object(n.f)({},$,i),V(),c.set("skipButton",!1);var l=!e.get("backgroundLoading")&&v?v.then((function(){return p.setActiveItem(m)})):p.setActiveItem(m);return k=!1,void 0!==(u=t.skipoffset||y.skipoffset)&&d.setupSkipButton(u,y),l},this.setupSkipButton=function(t,e,i){var r=p.model;b=i||x,r.set("skipMessage",e.skipMessage),r.set("skipText",e.skipText),r.set("skipOffset",t),r.attributes.skipButton=!1,r.set("skipButton",!0)},this.applyProviderListeners=function(t){p.usePsuedoProvider(t),V()},this.play=function(){g={},p.playVideo()},this.pause=function(){g={},p.pause()},this.skipAd=function(t){var i=e.get("autoPause").pauseAds,n="autostart"===e.get("playReason"),a=e.get("viewable");!i||n||a||(this.noResume=!0);var o=r.e;this.trigger(o,t),b.call(this,{type:o})},this.replacePlaylistItem=function(t){_||(e.set("playlistItem",t),p.srcReset())},this.destroy=function(){_||(_=!0,this.trigger("destroyed"),this.off(),i&&i.clickHandler()&&i.clickHandler().revertAlternateClickHandlers(),e.off(null,null,p),p.off(null,null,d),p.destroy(),M&&p.model&&(e.attributes.state=r.gb),t.forwardEvents(),e.set("instream",null),p=null,g={},v=null,M&&!e.attributes._destroyed&&(t.attachMedia(),e.get("pip")&&t.requestPip(),this.noResume||(w?t.stopVideo():t.playVideo())))},this.getState=function(){return!_&&p.model.get("state")},this.setText=function(t){return _||!i||i.setAltText(t||""),this},this.hide=function(){_||e.set("hideAdsControls",!0)},this.getMediaElement=function(){return _?null:p.primedElement},this.setSkipOffset=function(t){u=t>0?t:null,p&&p.model.set("skipOffset",u)}};Object(n.f)(tt.prototype,p.a);var et=tt;function it(t,e){var i="VOD";return t===1/0?i="LIVE":t<0&&(i=function(t,e){return t!==1/0&&Math.abs(t)>=Math.max(rt(e),0)}(t,rt(e))?"DVR":"LIVE"),i}function rt(t){return void 0===t?120:Math.max(t,0)}var nt=i(47),at=i(22);function ot(t,e){return(ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var st=function(t){var e,i;function n(){return t.apply(this,arguments)||this}return i=t,(e=n).prototype=Object.create(i.prototype),e.prototype.constructor=e,ot(e,i),n.prototype.getFirstFrame=function(){var t=this.between(r.G,r.B),e=this.between("tabVisible",r.B);return e&&t&&e>0&&e<t?e:t},n}(at.a);function ut(t,e){e.off(r.G,t._onPlayAttempt),e.off(r.Y,t._triggerFirstFrame),e.off(r.L,t._onTime),t.off("change:activeTab",t._onTabVisible),t._triggerFirstFrame=t._onTime=null}function ct(t,e){t.change("mediaModel",(function(t,i,n){t._qoeItem&&n&&t._qoeItem.end(n.get("mediaState")),t._qoeItem=new st,t._qoeItem.tick(r.W),t._qoeItem.start(i.get("mediaState")),function(t,e){t._onTabVisible&&ut(t,e);var i,n,a=!1;t._triggerFirstFrame=function(i){if(!a&&e.mediaController){var n=e.mediaController.mediaModel,o=n.attributes.mediaState;if(o===r.hb||o===r.gb||i.type===r.Y){a=!0;var s=t._qoeItem;s.tick(r.B);var u=s.getFirstFrame();e.trigger(r.B,{loadTime:u}),n.off("change:"+r.N,null,n),n.change(r.N,(function(t,i){i&&e.trigger(r.N,i)}),n),ut(t,e)}}},t._onTime=(i=t._triggerFirstFrame,n=0,function(t){var e=t.position;e>n&&i(t),n=e}),t._onPlayAttempt=function(){this._qoeItem.tick(r.G)},t._onTabVisible=function(t,e){e?t._qoeItem.tick("tabVisible"):t._qoeItem.tick("tabHidden")},t.on("change:activeTab",t._onTabVisible),e.on(r.G,t._onPlayAttempt,t),e.once(r.Y,t._triggerFirstFrame),e.on(r.L,t._onTime)}(t,e),i.on("change:mediaState",(function(e,i,r){i!==r&&(t._qoeItem.end(r),t._qoeItem.start(i))}))}))}var lt=function(t){for(var e=(t||"").replace(/^\?/,"").split("&"),i=-1,r=0;r<e.length;r++)if(/^jw_start=/.test(e[r])){i=r;break}if(-1===i)return-1;var n=parseFloat(e[i].replace("jw_start=",""));return"number"!=typeof n||isNaN(n)||n<0?-1:n};var dt=function(){},ht=function(){};dt.prototype.set=function(t,e){return this._model.set(t,e)},Object(n.f)(dt.prototype,{destroy:function(){var t,e;this.off(),this.stop(),Object(o.b)(this,this.originalContainer),this._view&&this._view.destroy(),this._model&&(t=this._model,e=this._programController,t._onTabVisible&&ut(t,e),t._qoeItem=t._triggerFirstFrame=t._onTime=t._onPlayAttempt=t._onTabVisible=null,this._model.destroy()),this._apiQueue&&this._apiQueue.destroy(),this._captions&&this._captions.destroy(),this._programController&&this._programController.destroy(),this.instreamDestroy(!0),this._view=this._model=this._apiQueue=this._captions=this._programController=null,this.clearSetupVars&&this.clearSetupVars()},playerSetup:function(t,e,i,o,f,m){var g,b,k,M=this,w=this,C=w._model=new j,P=!1,A=!1,O=null,I=v(F),R=v(ht);w.originalContainer=w.currentContainer=i,w._events=o,w.trigger=function(t,e){var i=function(t,e,i){var r=i;switch(e){case"time":case"beforePlay":case"pause":case"play":case"ready":var a=t.get("viewable");void 0!==a&&(r=Object(n.f)({},i,{viewable:a}))}return r}(C,t,e);return p.a.trigger.call(this,t,i)};var S=new c.a(w,["trigger"],(function(){return!0})),T=function(t,e){w.trigger(t,e)};C.setup(t);var x=C.get("backgroundLoading");C.attributes.visibility=1;var V=this._programController=new J(C,m,e._publicApi);mt(),V.on("all",T,w).on("subtitlesTracks",(function(t){}),w).on(r.z,(function(){Promise.resolve().then(ut)}),w).on(r.A,w.triggerError,w),ct(C,V),w.clearSetupVars=function(){S&&S.destroy(),w=V=C=g=I=R=gt=S=null},C.on(r.t,w.triggerError,w),C.on("change:state",(function(t,e,i){U()||Y.call(M,t,e,i)}),this),C.on("change:castState",(function(t,e){w.trigger(r.m,e)})),C.on("change:fullscreen",(function(t,e){w.trigger(r.u,{fullscreen:e}),e&&t.set("playOnViewable",!1)})),C.on("change:volume",(function(t,e){w.trigger(r.O,{volume:e})})),C.on("change:mute",(function(t){w.trigger(r.F,{mute:t.getMute()})})),C.on("change:playbackRate",(function(t,e){w.trigger(r.T,{playbackRate:e,position:t.get("position")})}));var E=function t(e,i){"clickthrough"===i||"interaction"===i||"external"===i?(C.set("playOnViewable",!1),C.off("change:playReason change:pauseReason",t)):!i&&C.get("autostart")&&"playing"===U()&&C.set("playReason","autostart")};function L(t,e){Object(n.o)(e)||C.set("viewable",Math.round(e))}C.on("change:playReason change:pauseReason",E),w.on(r.d,(function(t){return E(0,t.playReason)})),w.on(r.c,(function(t){return E(0,t.pauseReason)})),C.on("change:scrubbing",(function(t,e){e?(O=C.get("state")!==r.gb,tt({reason:"interaction"})):O&&W({reason:"interaction"})})),C.on("change:captionsList",(function(t,e){w.trigger(r.l,{tracks:e,track:C.get("captionsIndex")||0})})),C.on("change:mediaModel",(function(t,e){var i=this;t.set("errorEvent",void 0),e.change("mediaState",(function(e,i){var n;t.get("errorEvent")||t.set(r.U,(n=i)===r.fb||n===r.ib?r.bb:n)}),this),e.change("duration",(function(e,i){if(0!==i){var r=it(i,t.get("minDvrWindow"));t.setStreamType(r)}}),this);var n="autoplay"===(t.get("related")||{}).oncomplete,a=t.get("item")+1,o=t.get("playlist")[a];if(o||n){e.on("change:position",(function t(r,s){if(n&&!o&&(a=-1,o=C.get("nextUp")),o&&!o.daiSetting){var u=e.get("duration");s&&u>0&&s>=u-h.b&&(e.off("change:position",t,i),x?V.backgroundLoad(o,a):V.getAsyncItem(a).run())}}),this)}})),this.playerReady=function(){(function(){C.change("visibility",L),S.off(),w.trigger(r.Z,{setupTime:0}),C.change("playlist",(function(t,e){if(e.length){var i={playlist:e},a=C.get("feedData");a&&(i.feedData=Object(n.f)({},a)),w.trigger(r.X,i)}})),C.change("playlistItem",(function(t,e){if(e){var i=e.title,n=e.image;if("mediaSession"in navigator&&window.MediaMetadata&&(i||n))try{navigator.mediaSession.metadata=new window.MediaMetadata({title:i,artist:window.location.hostname,artwork:[{src:n||""}]})}catch(t){}t.set("cues",[]),w.trigger(r.W,{index:C.get("item"),item:e})}})),S.flush(),S.destroy(),S=null,C.change("viewable",B),C.change("viewable",H),C.get("autoPause").viewability?C.change("viewable",D):C.once("change:autostartFailed change:mute",(function(t){t.off("change:viewable",H)}));F(),C.on("change:itemReady",(function(t,e){e&&(gt.flush(),C.get("pip")&&!w._instreamAdapter&&g.requestPip())}))})()};var F=function(){if(gt){var t=lt(window.location.search);C.get("generateSEOMetadata")&&t>=0?(M._model.setAutoStart("viewable"),at.call(M,t)):!0!==C.get("autostart")||C.get("playOnViewable")||X("autostart"),gt.flush()}};function B(t,e){w.trigger("viewable",{viewable:e}),N()}function N(){a.a[0]!==e&&1!==C.get("viewable")||"idle"===C.get("state")&&!1===C.get("autostart")&&V.preloadVideo()}function q(t){w._instreamAdapter.noResume=!t,t||$({reason:"viewable"})}function Q(t){t||(w.pause({reason:"viewable"}),C.set("playOnViewable",!t))}function H(t,e){var i=U();if(t.get("playOnViewable")){if(e){var n=t.get("autoPause").pauseAds,a=t.get("pauseReason");z()===r.eb?X("viewable"):i&&!n||"interaction"===a||W({reason:"viewable"})}else _.OS.mobile&&!i&&(w.pause({reason:"autostart"}),C.set("playOnViewable",!0));_.OS.mobile&&i&&q(e)}}function D(t,e){var i=t.get("state"),n=U(),a=t.get("playReason");n?t.get("autoPause").pauseAds?Q(e):q(e):i===r.hb||i===r.bb?Q(e):i===r.eb&&"playlist"===a&&t.once("change:state",(function(){Q(e)}))}function U(){var t=w._instreamAdapter;return!!t&&t.getState()}function z(){var t=U();return t||C.get("state")}function W(t){if(I.cancel(),A=!1,C.get("state")===r.db)return Promise.resolve();var i=K(t);C.set("playReason",i);var n=U();return n?(C.get("autostart")&&"paused"===n&&C.set("playReason","autostart"),w._instreamAdapter.off("state",rt,w),e.pauseAd(!1,t),Promise.resolve()):C.get("state")===r.cb?(Z(!0),w.setItemIndex(0).then((function(){return G(t,i)}))):G(t,i)}function G(t,e){if(!P&&(P=!0,w.trigger(r.x,{playReason:e,startTime:t&&t.startTime?t.startTime:C.get("playlistItem").starttime}),P=!1,Object(nt.a)()&&!m.primed()&&m.prime(),"playlist"===e&&C.get("autoPause").viewability&&D(C,C.get("viewable")),k)){if(Object(nt.a)()&&!x){var i=C.get("mediaElement");w._instreamAdapter&&(i.preload="none"),i.load()}return k=!1,b=null,Promise.resolve()}return V.playVideo(e).then(m.played)}function K(t){return t&&t.reason?t.reason:"unknown"}function X(t){if(z()===r.eb){I=v(F);var e=C.get("advertising");Promise.resolve.bind(Promise)(m,{cancelable:I,muted:w.getMute(),allowMuted:!e||e.autoplayadsmuted}).then((function(e){return C.set("canAutoplay",e),!0!==e||w.getMute()||(C.set("autostartMuted",!0),mt(),C.once("change:autostartMuted",(function(t){t.off("change:viewable",H),w.trigger(r.F,{mute:C.getMute()})}))),W({reason:t}).catch((function(){w._instreamAdapter||C.set("autostartFailed",!0),b=null}))})).catch((function(t){if(C.set("canAutoplay",!0),C.set("autostart",!1),!I.cancelled()){var e=Object(y.u)(t);w.trigger(r.i,{reason:t.reason,code:e,error:t})}}))}}function Z(t){if(I.cancel(),gt.empty(),U()){var e=w._instreamAdapter;return e&&(e.noResume=!0),void(b=function(){return V.stopVideo()})}b=null,!t&&(A=!0),P&&(k=!0),C.set("errorEvent",void 0),V.stopVideo()}function $(t){var e=K(t);C.set("pauseReason",e),C.set("playOnViewable","viewable"===e)}function tt(t){b=null,I.cancel();var i=U();if(i&&i!==r.gb)return $(t),void(i===r.bb?(w._instreamAdapter.once("state",rt,w),w._instreamAdapter.noResume=!0):e.pauseAd(!0,t));switch(C.get("state")){case r.db:return;case r.hb:case r.bb:$(t),V.pause();break;default:P&&(k=!0)}}function rt(){var t=C.get("pauseReason");e.pauseAd(!0,{reason:t})}function at(t,e){var i=C.get("state");if(i!==r.db){e&&i===r.hb&&C.get("playReason")!==e.reason&&C.set("playReason",e.reason),V.position=t;var n=i===r.eb;C.get("scrubbing")||!n&&i!==r.cb||(n&&((e=e||{}).startTime=t),this.play(e))}}function ot(t,e){w.instreamDestroy(),Z(!0),w.setItemIndex(t),w.play(e)}function st(t){ot(C.get("item")+1,t)}function ut(){w.completeCancelled()||(b=w.completeHandler,w.shouldAutoAdvance()?w.nextItem():C.get("repeat")?st({reason:"repeat"}):(_.OS.iOS&&pt(!1),C.set("playOnViewable",!1),C.set("state",r.cb),w.trigger(r.V,{})))}function dt(t,e){t=parseInt(t,10)||0,C.persistVideoSubtitleTrack(t,e),V.subtitles=t,w.trigger(r.k,{tracks:ft(),track:t})}function ft(){return[]}function pt(t){C.get("pip")&&C.set("pip",!1),Object(n.j)(t)||(t=!C.get("fullscreen")),!C.get("allowFullscreen")&&t||(C.set("fullscreen",t),w._instreamAdapter&&w._instreamAdapter._adModel&&w._instreamAdapter._adModel.set("fullscreen",t))}function mt(){V.setMute(C.getMute()),V.setVolume(C.get("volume"))}this.preload=N,this.load=function(t,e){var i,n=w._instreamAdapter;switch(n&&(n.noResume=!0),w.trigger("destroyPlugin",{}),Z(!0),V.clearItemPromises(),I.cancel(),I=v(F),R.cancel(),Object(nt.a)()&&m.prime(),typeof t){case"string":C.attributes.item=0,C.attributes.itemReady=!1,R=v((function(t){if(t)return w.updatePlaylist(Object(d.a)(t.playlist),t)})),i=function(t){var e=this;return new Promise((function(i,n){var a=new l.a;a.on(r.X,(function(t){i(t)})),a.on(r.t,n,e),a.load(t)}))}(t).then((function(t){return R.async(t)}));break;case"object":C.attributes.item=0,i=w.updatePlaylist(Object(d.a)(t),e||{});break;case"number":i=w.setItemIndex(t);break;default:return}i.catch((function(t){w.triggerError(Object(y.s)(t,y.b))})),i.then((function(){return I.async()})).catch(ht)},this.play=function(t){return W(t).catch(ht)},this.pause=tt,this.seek=at,this.stop=Z,this.playlistItem=ot,this.playlistNext=st,this.playlistPrev=function(t){ot(C.get("item")-1,t)},this.setCurrentCaptions=dt,this.setCurrentQuality=function(t){V.quality=t},this.setFullscreen=pt,this.setAllowFullscreen=function(t){C.set("allowFullscreen",t),!t&&C.get("fullscreen")&&w.setFullscreen(!1)},this.setPip=function(t){C.get("fullscreen")&&C.set("fullscreen",!1),Object(n.j)(t)||(t=!C.get("pip")),C.set("pip",t)},this.getCurrentQuality=function(){return V.quality},this.getQualityLevels=function(){return V.qualities},this.setCurrentAudioTrack=function(t){V.audioTrack=t},this.getCurrentAudioTrack=function(){return V.audioTrack},this.getAudioTracks=function(){return V.audioTracks},this.getCurrentCaptions=function(){return-1},this.getCaptionsList=ft,this.getVisualQuality=function(){var t=this._model.get("mediaModel");return t?t.get(r.N):null},this.getConfig=function(){return this._model?this._model.getConfiguration():void 0},this.getState=z,this.next=ht,this.completeHandler=ut,this.completeCancelled=function(){return(t=C.get("state"))!==r.eb&&t!==r.cb&&t!==r.db||!!A&&(A=!1,!0);var t},this.shouldAutoAdvance=function(){return C.get("item")!==C.get("playlist").length-1},this.nextItem=function(){st({reason:"playlist"})},this.setConfig=function(t){!function(t,e){var i=t._model,r=i.attributes;if(e.height&&(e.height=Object(s.b)(e.height),e.width=e.width||r.width),e.width&&(e.width=Object(s.b)(e.width),e.aspectratio?(r.width=e.width,delete e.width):e.height=r.height),e.width&&e.height&&!e.aspectratio&&t._view.resize(e.width,e.height),e.floating){var a=i.get("floating")||{},o=Object(n.f)({},a,e.floating);-1===u.indexOf(o.mode)?delete e.floating:e.floating=o}Object.keys(e).forEach((function(n){var a=e[n];if(void 0!==a)switch(n){case"aspectratio":i.set(n,Object(s.a)(a,r.width));break;case"autostart":!function(t,e,i){t.setAutoStart(i),"idle"===t.get("state")&&!0===i&&e.play({reason:"autostart"})}(i,t,a);break;case"mute":t.setMute(a);break;case"volume":t.setVolume(a);break;case"playbackRateControls":case"playbackRates":case"repeat":case"stretching":case"floating":i.set(n,a)}}))}(w,t)},this.setItemIndex=function(t){V.stopVideo();var e=C.get("playlist").length,i=Object(d.e)(t,e);return V.setActiveItem(i).catch((function(t){if(t.code===y.a){if(V.asyncItems.reduce((function(t,e){return t&&e.skipped}),!0))throw t;var e=M.shouldAutoAdvance;return M.shouldAutoAdvance=function(){return!1},ut(),C.attributes.itemReady=!0,void(M.shouldAutoAdvance=e)}t.code>=151&&t.code<=162&&(t=Object(y.s)(t,y.d)),M.triggerError(Object(y.t)(y.i,y.c,t))}))},this.detachMedia=function(){if(P&&(k=!0),C.get("autoPause").viewability&&D(C,C.get("viewable")),!x)return V.setAttached(!1);V.backgroundActiveMedia()},this.attachMedia=function(){x?V.restoreBackgroundMedia():V.setAttached(!0),"function"==typeof b&&b()},this.routeEvents=function(t){return V.routeEvents(t)},this.forwardEvents=function(){return V.forwardEvents()},this.playVideo=function(t){return V.playVideo(t)},this.stopVideo=function(){return V.stopVideo()},this.castVideo=function(t,e){return V.castVideo(t,e)},this.stopCast=function(){return V.stopCast()},this.backgroundActiveMedia=function(){return V.backgroundActiveMedia()},this.restoreBackgroundMedia=function(){return V.restoreBackgroundMedia()},this.preloadNextItem=function(){V.background.currentMedia&&V.preloadVideo()},this.isBeforeComplete=function(){return V.beforeComplete},this.setVolume=function(t){C.setVolume(t),mt()},this.setMute=function(t){C.setMute(t),mt()},this.setPlaybackRate=function(t){C.setPlaybackRate(t)},this.getProvider=function(){return C.get("provider")},this.getWidth=function(){return C.get("containerWidth")},this.getHeight=function(){return C.get("containerHeight")},this.getItemQoe=function(){return C._qoeItem},this.setItemCallback=function(t){V.itemCallback=t},this.getItemPromise=function(t){var e=C.get("playlist");if(t<-1||t>e.length-1||isNaN(t))return null;var i=V.getAsyncItem(t);return i?i.promise:null},this.addButton=function(t,e,i,r,n){var a=C.get("customButtons")||[],o=!1,s={img:t,tooltip:e,callback:i,id:r,btnClass:n};a=a.reduce((function(t,e){return e.id===r?(o=!0,t.push(s)):t.push(e),t}),[]),o||a.unshift(s),C.set("customButtons",a)},this.removeButton=function(t){var e=C.get("customButtons")||[];e=e.filter((function(e){return e.id!==t})),C.set("customButtons",e)},this.resize=this.setCaptions=function(){},this.getSafeRegion=function(){return{x:0,y:0,width:0,height:0}},this.checkBeforePlay=function(){return P},this.setControls=function(t){},this.addCues=function(t){this.setCues(C.get("cues").concat(t))},this.setCues=function(t){C.set("cues",t)},this.setPlaylistItem=function(t,e){var i=C.get("playlist"),r=Object(d.e)(t,i.length),n=V.getAsyncItem(r);if(n.replace(e)){var a=i[r];e&&e!==a&&(V.asyncItems[r]=null,n.reject(new Error("Item replaced"))),r===C.get("item")&&"idle"===C.get("state")&&this.setItemIndex(r)}},this.isBeforePlay=this.checkBeforePlay,this.createInstream=function(){return this.instreamDestroy(),this._instreamAdapter=new et(this,C,g,m),this._instreamAdapter},this.instreamDestroy=function(t){this._instreamAdapter&&(t&&(this._instreamAdapter.noResume=!0),this._instreamAdapter.destroy(),this._instreamAdapter=null)};var gt=this._apiQueue=new c.a(this,["play","pause","setCurrentAudioTrack","setCurrentCaptions","setCurrentQuality","setAllowFullscreen","setFullscreen"],(function(){return!M._model.get("itemReady")||S}));gt.queue.push.apply(gt.queue,f),g&&g.setup()},requestPip:function(t){this._view&&this._view.requestPip(t)},get:function(t){if(t in w.c){var e=this._model.get("mediaModel");return e?e.get(t):w.c[t]}return this._model.get(t)},getContainer:function(){return this.currentContainer||this.originalContainer},getMute:function(){return this._model.getMute()},triggerError:function(t){var e=this._model;t.message=e.get("localization").errors[t.key],delete t.key,e.set("errorEvent",t),e.set("state",r.db),e.once("change:state",(function(){this.set("errorEvent",void 0)}),e),this.trigger(r.t,t)},updatePlaylist:function(t,e){var i=this._model;try{var r=Object(d.b)(t,i,e);Object(d.d)(r);var a=Object(n.f)({},e);delete a.playlist,i.set("feedData",a),i.set("playlist",r)}catch(t){return Promise.reject(t)}return 1===t.length&&1===t[0].sources.length&&"mp4"===t[0].sources[0].type&&i.get("repeat")?(i.set("repeat",!1),i.set("loop",!0)):i.set("loop",!1),this.setItemIndex(i.get("item"))}});var ft=dt;var pt=function(t){var e,i,r=!1;return t&&((i=document.createElement("div")).className="afs_ads ad-placement",i.innerHTML="&nbsp;",i.style.width="1px",i.style.height="1px",i.style.position="absolute",i.style.background="transparent",e=i,t.element().appendChild(e)),{onReady:function(){if(r)return!0;(function(){t&&document.body.contains(t.element())&&(null!==e.offsetParent&&"afs_ads ad-placement"===e.className&&""!==e.innerHTML&&0!==e.clientHeight||(r=!0));return r})()&&this.trigger("adBlock")},getAdBlock:function(){return r}}};i(49);var mt,gt=i(46);function vt(t,e,i){var r=function(){try{mt=window.localStorage.jwplayerLocalId}catch(t){}return mt=mt||Object(gt.a)(12)}();t.forEach((function(t){var n=t.variations;if(n&&n[e]){n.selected=n.selected||{};var a=function(t,e){for(var i=function(t){for(var e=1794770992,i=0,r=t.length;i<r;i++)e^=t.charCodeAt(i),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return e>>>0}(t)%2520,r=e.reduce((function(t,e){return t+e.weight}),0),n=0,a=0;a<e.length;a++){var o=e[a];if((n+=2520*o.weight/r)>i)return o}}(r,n[e]),o=a[i];o&&(t[i]=o,n.selected[e]=a)}}))}var yt,bt=i(43),kt=[],_t=!1,Mt=function(t){var e=t.search,i=t.hash,r=t.origin,n=t.pathname,a="jw_start={seek_to_second_number}";if(e){for(var o=e.replace(/^\?/,"").split("&"),s=-1,u=0;u<o.length;u++)if(/^jw_start=/.test(o[u])){s=u;break}-1!==s?o[s]=a:o.push(a),e="?"+o.join("&")}else e="?"+a;return(r||"")+(n||"")+(e||"")+(i||"")};function wt(t,e){_t||(setTimeout((function(){kt.push(function(t,e){var i,r=t.title,a=t.description,o=t.image,s=t.sources,u=t.pubdate,c=t.mediaid,l=u?new Date(1e3*u).toISOString():void 0,d=(Object(n.g)(s,(function(t){return"video/mp4"===t.type}))||s[0]).file,h=e.getConfig();Object(bt.a)()?c&&h.pid&&(i="https://cdn.jwplayer.com/players/"+c+"-"+h.pid+".html"):i=window.location.href;var f,p=e.get("duration");p&&(f="PT"+Math.floor(p/60)+"M"+Math.round(p)%60+"S");var m={"@type":"SeekToAction",target:Mt(window.location),"startOffset-input":"required name=seek_to_second_number"};return{"@context":"https://schema.org","@type":"VideoObject",name:r,description:a,thumbnailUrl:o,uploadDate:l,duration:f,contentUrl:d,embedUrl:i,potentialAction:m}}(t,e))}),750),clearTimeout(yt),yt=setTimeout((function(){var t=document.createElement("script");t.setAttribute("type","application/ld+json"),t.setAttribute("id","__jw-ld-json"),kt.length>1?t.innerText=JSON.stringify(kt):t.innerText=JSON.stringify(kt[0]),document.head.appendChild(t),_t=!0}),1e3))}ft.prototype.osPlayerSetup=ft.prototype.playerSetup,ft.prototype.playerSetup=function(t,e,a,o,s,u){this.osPlayerSetup(t,e,a,o,s,u);this.shouldAutoAdvance;var c,l=this._model,d=this._view,h=this.modelShim,f=pt(d),p=l.get("advertising");if(h&&h.attributes.ampController){var m=h.attributes.ampController,g=this.playerReady;this.ampController=m,delete h.attributes.ampController,this.playerReady=function(){g.apply(this,arguments),m.ready(l)}}function v(){return c||(c=i.e(/*! require.ensure | jwplayer.stats */3).then(function(t){return new(0,i(/*! stats/stats */179).default)(d,l,e)}.bind(null,i)).catch((function(t){throw t})).catch((function(t){console.error("jwplayer.stats:",t)}))),c}function y(t,e){0}t.analytics&&(t.sdkplatform=t.sdkplatform||t.analytics.sdkplatform),this.updatePlaylist=function(t,e){var i=this,r=[];return vt(t,"images","image"),r.length?(l.attributes.itemReady=!1,Promise.all(r).then((function(){return ft.prototype.updatePlaylist.call(i,t,e)}))):ft.prototype.updatePlaylist.call(this,t,e)},e.getAdBlock=f.getAdBlock,this.once(r.W,(function(t){l.on("change:playlistItem",y,this);p&&p.outstream;0;l.get("generateSEOMetadata")&&wt(t.item,this);this.getContainer().addEventListener("keydown",(function(t){"n"===t.key&&(l.set("displayStats",!l.get("displayStats")),v())}),this),l.on("change:displayStats",(function(t,e){e?v().then((function(t){return t.show()})):!1===e&&v().then((function(t){return t.hide()}))}),this)}),this);p&&p.outstream&&function(t,e){var i=t._model,a=t._view,o=!1,s=e.height,u=e.width,c=t.getHeight;t.getHeight=function(){var t=i.get("aspectratio");return t?Math.round(i.get("containerWidth")*parseFloat(t)/100):s};var l=t.getWidth;t.getWidth=function(){return Object(n.m)(u)?u:l.call(this)},i.setAutoStart("viewable"),t.setMute(!0),t.setItemIndex=function(){return i.setActiveItem(0),Promise.resolve()},t.updatePlaylist=function(){return i.set("playlist",[{sources:[{}]}]),i.attributes.itemReady=!0,this.setItemIndex(0)};var d=t.createInstream;t.createInstream=function(){var e=d.call(this);return e.noResume=!0,o=!1,e.on("state",(function(e){var i=e.newstate;i!==r.fb&&i!==r.hb||(t.attachMedia=f,t.getHeight=c,t.getWidth=l,a&&(a.resize=void 0),o=!0)})),e};var h=t.attachMedia;t.attachMedia=t.playerDestroy;var f=function(){return o||i.set("repeat",!1),i.get("backgroundLoading")||this._programController.mediaPool.clean(),i.set("state",r.cb),this._programController.trigger(r.z,{}),h.call(this)};t._programController.playVideo=function(){return Promise.resolve()}}(this,t)};e.default=ft}}]);